<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>用户管理</title>
    <link rel="stylesheet" type="text/css" th:href="@{/webjars/layui/2.4.5/css/layui.css}"/>
    <script th:src="@{/webjars/jquery/3.3.1/jquery.js}" type="text/javascript"></script>
    <script th:src="@{/webjars/layui/2.4.5/layui.js}" type="text/javascript"></script>
    <style type="text/css">
        *{
            margin: 0px;
            padding: 0px;
        }
    </style>
    <script>
        layui.use(['form', 'layedit', 'laydate'], function(){
            var form = layui.form
                ,layer = layui.layer
                ,layedit = layui.layedit
                ,laydate = layui.laydate;

            //日期
            laydate.render({
                elem: '#caStarttime'
            });
            laydate.render({
                elem: '#caOvertime'
            });

           /* form.render()*/
            //下拉菜单获取牌照
            $.ajax({
                url:'/getAllLicensePlate',
                dataType:'json',
                type:'post',
                success:function(data){

                    $.each(data,function(index,item){
                        /*alert(index);
                        alert(item);*/
                        $('#caCId').append(new Option(item,index));//往下拉菜单里添加元素
                    })

                    form.render("select");//菜单渲染 把内容加载进去
                }
            })

            //创建一个编辑器
            // var editIndex = layedit.build('LAY_demo_editor');

            //自定义验证规则
            form.verify({
                title: function(value){
                    if(value.length < 5){
                        return '标题至少得5个字符啊';
                    }
                }

                /*,pass: [
                    /^[\S]{6,12}$/
                    ,'密码必须6到12位，且不能出现空格'
                ]*/
                // ,content: function(value){
                //     layedit.sync(editIndex);
                // }
            });

            //监听指定开关
            form.on('switch(switchTest)', function(data){
                layer.msg('开关checked：'+ (this.checked ? 'true' : 'false'), {
                    offset: '6px'
                });
                layer.tips('温馨提示：请注意开关状态的文字可以随意定义，而不仅仅是ON|OFF', data.othis)
            });

            //监听提交
            form.on('submit(demo1)', function(data){
                layer.alert(JSON.stringify(data.field), {
                    title: '最终的提交信息2'
                });
                return true;
            });
        });
    </script>
</head>
<body>
    <form class="layui-form layui-form-pane" action="/addCarApply">
        <div class="layui-form-item">
            <label class="layui-form-label">申请单单号</label>
            <div class="layui-input-block">
                <input type="text" name="caId" placeholder="请输入" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">申请的车辆</label>
            <div class="layui-input-block">
                <select name="caCId" id="caCId" lay-filter="caCId">
                    <!--<option value="0">奥迪</option>-->
                    <!--<option value="1" selected="">奔驰</option>-->
                    <!--<option value="2">直升机</option>-->
                </select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">申请人员</label>
            <div class="layui-input-block">
                <input type="text" name="userid" lay-verify="title" autocomplete="off" placeholder="默认当前账号用户" class="layui-input">
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">开始日期:</label>
            <div class="layui-input-inline">
                <input type="text" name="caStarttime" id="caStarttime" lay-verify="date" placeholder="yyyy-MM-dd" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">结束日期:</label>
            <div class="layui-input-inline">
                <input type="text" name="caOvertime" id="caOvertime" lay-verify="date" placeholder="yyyy-MM-dd" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">申请原因:</label>
            <div class="layui-input-block">
                <input type="text" name="caReason" lay-verify="title" autocomplete="off" placeholder="请输入标题" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">审核人员</label>
            <div class="layui-input-block">
                <select name="check" lay-filter="aihao">
                    <option value="0">写作</option>
                    <option value="1" selected="">阅读</option>
                    <option value="2">游戏</option>
                    <option value="3">音乐</option>
                    <option value="4">旅行</option>
                </select>
            </div>
        </div>

    状态（0 - 未审核/1 - 审核通过/2 - 审核未通过）:
    状态（0 - 未审核/1 - 审核通过/2 - 审核未通过）:
    审核建议:
        <div class="layui-form-item">
            <div class="layui-input-block">
                <button class="layui-btn" lay-submit="" lay-filter="demo1">立即提交</button>
                <button type="reset" class="layui-btn layui-btn-primary">重置</button>
            </div>
        </div>
     </form>
</body>
</html>